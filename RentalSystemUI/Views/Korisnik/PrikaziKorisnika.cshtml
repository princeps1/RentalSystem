@model RentalSystemUI.DTOs.Korisnik.KorisnikDTO

<h2>Detalji korisnika</h2>

<div class="card">
    <div class="card-header">
        @Model.ImePrezime
    </div>
    <div class="card-body">
        <p><strong>JMBG:</strong> @Model.JMBG</p>
        <p><strong>Broj vozačke:</strong> @Model.BrVozacke</p>
        <!-- Ovde dodaj još podataka po potrebi -->
    </div>
</div>

<!-- Sekcija za prikaz iznajmljenih vozila -->
@if (Model.Vozila != null && Model.Vozila.Any())
{
    <h4>Vozila iznajmljena ovom korisniku</h4>
    <table class="table table-bordered">
        <thead>
            <tr>
                <th>Model</th>
                <th>Marka</th>
                <th>Cena Vozila</th>
                <th>Registarski broj</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var vozilo in Model.Vozila)
            {
                <tr>
                    <td>@vozilo.Model</td>
                    <td>@vozilo.Marka</td>
                    <td>@vozilo.CenaVozila</td>
                    <td>@vozilo.RegistarskiBroj</td>
                </tr>
            }
        </tbody>
    </table>
}
else
{
    <p><em>Nema trenutno izdatih vozila za ovog korisnika.</em></p>
}

<div class="mt-3">
    @using (Html.BeginForm("ObrisiKorisnika", "Korisnik", new { jmbg = Model.JMBG }, FormMethod.Post))
    {
        <button type="submit" class="btn btn-danger"
                onclick="return confirm('Da li ste sigurni da želite da obrišete ovog korisnika?')"
        @(Model.Vozila != null && Model.Vozila.Any() ? "disabled" : "")>
            Obriši
        </button>
    }

    <a class="btn btn-warning"
       asp-controller="Korisnik"
       asp-action="AzurirajVozacku"
       asp-route-jmbg="@Model.JMBG">
        Ažuriraj vozačku
    </a>

    <a class="btn btn-secondary"
       asp-controller="Korisnik"
       asp-action="KorisniciIndex">
        Nazad na listu
    </a>
</div>
